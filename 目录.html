<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatBI原型</title>
    <style>
        /* 重置样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
            font-family: 'Microsoft YaHei', 'Segoe UI', Arial, sans-serif;
            color: #333;
        }
        
        body {
            display: flex;
            flex-direction: row;
            background-color: #fcfcfc;
        }
        
        /* 左侧目录区域 */
        .sidebar {
            width: 280px;
            height: 100%;
            background-color: #f5f7fa;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }
        
        .sidebar-header {
            padding: 18px 15px;
            background: linear-gradient(to right, #4481eb, #04befe);
            color: white;
            display: flex;
            align-items: center;
        }
        
        .logo-icon {
            width: 24px;
            height: 24px;
            margin-right: 10px;
            fill: white;
        }
        
        .sidebar-header h1 {
            margin: 0;
            font-size: 18px;
            font-weight: 500;
        }
        
        .file-list-container {
            flex: 1;
            overflow-y: auto;
            padding: 10px 0;
        }
        
        .file-list {
            list-style: none;
        }
        
        .file-list li {
            margin: 2px 0;
        }
        
        .file-list li.active .file-link {
            background-color: rgba(68, 129, 235, 0.1);
            border-left: 3px solid #4481eb;
            color: #4481eb;
        }
        
        .file-link {
            display: flex;
            padding: 10px 15px;
            border-left: 3px solid transparent;
            text-decoration: none;
            color: #5a6474;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .file-link:hover {
            background-color: rgba(68, 129, 235, 0.05);
        }
        
        .file-number {
            margin-right: 10px;
            color: #4481eb;
            font-weight: 500;
            min-width: 24px;
        }
        
        /* 右侧内容区域 */
        .content {
            flex: 1;
            height: 100%;
            overflow: hidden;
            background-color: white;
            transition: all 0.3s ease;
        }
        
        iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
        }
        
        /* 右键菜单 */
        .context-menu {
            position: fixed;
            background: white;
            border-radius: 4px;
            box-shadow: 0 3px 12px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: none;
            overflow: hidden;
        }
        
        .menu-item {
            padding: 10px 15px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .menu-item:hover {
            background-color: #f5f7fa;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <svg class="logo-icon" viewBox="0 0 24 24">
                <path d="M21,3H3A2,2 0 0,0 1,5V19A2,2 0 0,0 3,21H21A2,2 0 0,0 23,19V5A2,2 0 0,0 21,3M21,19H3V5H21V19M5,7H7V9H9V7H11V9H13V7H15V9H17V7H19V11H5V7M5,13H19V17H5V13Z" />
            </svg>
            <h1>ChatBI原型</h1>
        </div>
        <div class="file-list-container">
            <ul class="file-list">
                <li data-path="侧边栏.html">
                    <div class="file-link" onclick="loadPage('侧边栏.html')" oncontextmenu="showMenu(event, '侧边栏.html'); return false;">
                        <span class="file-number">1</span>
                        <span>侧边栏</span>
                    </div>
                </li>
                <li data-path="分析思路/分析思路.html">
                    <div class="file-link" onclick="loadPage('分析思路/分析思路.html')" oncontextmenu="showMenu(event, '分析思路/分析思路.html'); return false;">
                        <span class="file-number">2.1</span>
                        <span>分析思路\分析思路</span>
                    </div>
                </li>
                <li data-path="圈选匹配/指标圈选.html">
                    <div class="file-link" onclick="loadPage('圈选匹配/指标圈选.html')" oncontextmenu="showMenu(event, '圈选匹配/指标圈选.html'); return false;">
                        <span class="file-number">3.1</span>
                        <span>圈选匹配\指标圈选</span>
                    </div>
                </li>
                <li data-path="圈选匹配/角色圈选.html">
                    <div class="file-link" onclick="loadPage('圈选匹配/角色圈选.html')" oncontextmenu="showMenu(event, '圈选匹配/角色圈选.html'); return false;">
                        <span class="file-number">3.2</span>
                        <span>圈选匹配\角色圈选</span>
                    </div>
                </li>
                <li data-path="数据准入/资源准入/index.html">
                    <div class="file-link" onclick="loadPage('数据准入/资源准入/index.html')" oncontextmenu="showMenu(event, '数据准入/资源准入/index.html'); return false;">
                        <span class="file-number">3.2</span>
                        <span>数据准入\资源准入\index</span>
                    </div>
                </li>
                <li data-path="权限管理/代客.html">
                    <div class="file-link" onclick="loadPage('权限管理/代客.html')" oncontextmenu="showMenu(event, '权限管理/代客.html'); return false;">
                        <span class="file-number">4.1</span>
                        <span>权限管理\代客</span>
                    </div>
                </li>
                <li data-path="知识库/知识&策略.html">
                    <div class="file-link" onclick="loadPage('知识库/知识&策略.html')" oncontextmenu="showMenu(event, '知识库/知识&策略.html'); return false;">
                        <span class="file-number">5.1</span>
                        <span>知识库\知识&策略</span>
                    </div>
                </li>
                <li data-path="知识库/知识导入.html">
                    <div class="file-link" onclick="loadPage('知识库/知识导入.html')" oncontextmenu="showMenu(event, '知识库/知识导入.html'); return false;">
                        <span class="file-number">5.2</span>
                        <span>知识库\知识导入</span>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    
    <div class="content" id="content">
        <iframe id="content-iframe" name="content-frame" src="about:blank"></iframe>
    </div>
    
    <div class="context-menu" id="context-menu">
        <div class="menu-item" id="open-here">在当前窗口打开</div>
        <div class="menu-item" id="open-new">在新标签页打开</div>
    </div>

    <script>
        // 当前路径
        let currentPath = '';
        
        // 在iframe中加载页面
        function loadPage(path) {
            document.getElementById('content-iframe').src = path;
            
            // 高亮当前选中项
            document.querySelectorAll('.file-list li').forEach(item => {
                item.classList.remove('active');
            });
            
            const activeItem = document.querySelector(`li[data-path="${path}"]`);
            if (activeItem) {
                activeItem.classList.add('active');
                // 确保选中项可见
                activeItem.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }
        
        // 显示右键菜单
        function showMenu(event, path) {
            currentPath = path;
            
            const menu = document.getElementById('context-menu');
            menu.style.display = 'block';
            menu.style.left = event.pageX + 'px';
            menu.style.top = event.pageY + 'px';
            
            // 确保菜单在视口内
            const rect = menu.getBoundingClientRect();
            if (rect.right > window.innerWidth) {
                menu.style.left = (window.innerWidth - rect.width) + 'px';
            }
            if (rect.bottom > window.innerHeight) {
                menu.style.top = (window.innerHeight - rect.height) + 'px';
            }
        }
        
        // 绑定右键菜单事件
        document.getElementById('open-here').addEventListener('click', function() {
            loadPage(currentPath);
            hideMenu();
        });
        
        document.getElementById('open-new').addEventListener('click', function() {
            window.open(currentPath, '_blank');
            hideMenu();
        });
        
        // 隐藏右键菜单
        function hideMenu() {
            document.getElementById('context-menu').style.display = 'none';
        }
        
        // 点击页面任意处隐藏菜单
        document.addEventListener('click', hideMenu);
        
        // 页面加载时打开第一个文件
        window.onload = function() {
            const firstItem = document.querySelector('.file-list li');
            if (firstItem) {
                const path = firstItem.getAttribute('data-path');
                loadPage(path);
            }
        };
    </script>
</body>
</html>
