# 指标维度知识库标注系统需求文档

## 1. 系统概述

指标维度知识库标注系统是一个专门用于管理和标注业务指标维度信息的Web应用。该系统允许用户查看、编辑和管理各种业务维度的元数据，包括维度别名、维度描述、支持的枚举值以及相关指标。系统面向业务分析师和指标管理人员，帮助他们构建和维护标准化的指标维度知识库。

## 2. 功能需求

### 2.1 页面布局与导航

#### 2.1.1 页面标题与控制区
- 页面顶部显示系统标题"指标维度知识库标注系统"
- 提供搜索框，支持按维度名称或其他属性搜索
- 提供版本历史下拉菜单，可查看和恢复历史版本
- 提供同步知识库和导出功能按钮

#### 2.1.2 筛选控制区
- 支持按业务线筛选维度列表
- 支持按标注状态（已标注、部分标注、未标注）筛选
- 提供筛选按钮执行筛选操作

### 2.2 维度数据展示

#### 2.2.1 维度列表表格
- 以表格形式展示维度数据
- 表头固定，支持大量数据滚动浏览
- 表格包含以下列：
  - 启用状态（开关控件）
  - 业务线
  - 维度英文名
  - 维度来源表
  - 维度中文名
  - 维度中文别名（可编辑）
  - 支持的枚举值（可编辑）
  - 维度描述（可编辑）
  - 支持指标
  - 更新历史
  - 状态

#### 2.2.2 表格行样式
- 偶数行使用浅灰色背景区分
- 鼠标悬停行有高亮效果
- 可编辑单元格有特殊背景色和鼠标样式提示

### 2.3 维度信息编辑功能

#### 2.3.1 维度别名编辑
- 点击维度别名单元格弹出编辑窗口
- 支持添加多个别名标签
- 支持删除现有别名标签
- 提供保存和取消功能
- 自动记录编辑历史

#### 2.3.2 维度枚举值编辑
- 点击枚举值单元格弹出编辑窗口
- 支持从预设枚举值列表中选择值
- 支持全选/取消全选功能
- 支持标记某些枚举值为"排除"状态
- 对每个枚举值支持添加别名
- 提供保存和取消功能
- 自动记录编辑历史

#### 2.3.3 维度描述编辑
- 点击描述单元格弹出文本编辑窗口
- 支持多行文本输入
- 提供保存和取消功能
- 自动记录编辑历史

### 2.4 指标关联功能

#### 2.4.1 指标列表展示
- 在维度行中显示与该维度相关的指标列表
- 每个指标以标签形式展示
- 提供"指标列表"按钮查看完整指标列表

#### 2.4.2 指标标注功能
- 点击指标标签可进行该指标的标注（弹出标注界面）
- 支持为指标添加描述、别名等信息

### 2.5 状态管理

#### 2.5.1 维度启用状态
- 通过开关控件控制维度的启用状态
- 可一键开启或关闭某个维度

#### 2.5.2 标注状态管理
- 自动计算并显示维度的标注状态（已标注、部分标注、未标注）
- 编辑维度信息后自动更新标注状态
- 用不同颜色的状态标签直观展示标注进度

### 2.6 历史记录功能

#### 2.6.1 更新历史展示
- 每个维度维护其更新历史记录
- 历史记录包含时间、操作人和操作类型
- 按时间倒序排列显示最近的更新

#### 2.6.2 版本控制
- 支持系统级别的版本控制
- 可查看和恢复历史版本
- 每个版本带有时间戳

### 2.7 同步与导出

#### 2.7.1 知识库同步
- 支持与中央知识库系统同步数据
- 提供同步状态和结果反馈

#### 2.7.2 数据导出
- 支持将维度数据导出为常用格式（如Excel）

## 3. 用户界面需求

### 3.1 整体设计风格
- 简洁专业的界面设计
- 浅色背景配合蓝色主题色
- 表格为主体的数据呈现方式
- 弹窗式的编辑界面

### 3.2 交互元素设计

#### 3.2.1 按钮设计
- 主要操作按钮：蓝色背景，白色文字
- 次要操作按钮：灰色背景，深色文字
- 所有按钮有悬停效果

#### 3.2.2 标签设计
- 维度别名标签：浅蓝底色，蓝色文字
- 指标标签：浅绿底色，绿色文字
- 枚举值标签：浅橙底色，橙色文字
- 排除的枚举值：浅红底色，红色文字，带删除线
- 版本标签：浅紫底色，紫色文字

#### 3.2.3 状态标签设计
- 已标注：绿色背景，白色文字
- 部分标注：黄色背景，白色文字
- 未标注：红色背景，白色文字

#### 3.2.4 开关控件设计
- 简洁的滑块开关
- 开启状态有明确的视觉反馈

### 3.3 编辑弹窗设计
- 居中显示的模态弹窗
- 半透明背景遮罩
- 清晰的标题和操作按钮
- 结构化的内容区域

### 3.4 响应式布局
- 表格支持水平滚动以适应不同屏幕宽度
- 关键列固定宽度以确保可读性
- 长文本内容自动截断，可通过编辑查看完整内容

## 4. 技术要求

### 4.1 前端技术
- 使用HTML5、CSS3和JavaScript实现
- 不依赖大型前端框架，保持轻量
- 使用现代ES6+语法

### 4.2 性能要求
- 支持大量维度数据（100+）的流畅浏览和编辑
- 编辑操作响应及时，无明显延迟
- 筛选操作实时生效

### 4.3 兼容性要求
- 支持主流现代浏览器（Chrome、Edge、Firefox等）
- 适配桌面设备不同分辨率

## 5. 数据处理

### 5.1 数据保存
- 编辑操作应实时保存
- 提供操作成功的视觉反馈
- 防止数据丢失的保护机制

### 5.2 数据导入导出
- 支持从外部系统导入维度数据
- 支持将维度数据导出为可用格式

### 5.3 数据同步
- 与中央指标管理系统保持数据一致性
- 提供数据冲突解决机制

## 6. 系统集成

### 6.1 与指标系统集成
- 支持从指标系统获取最新的指标列表
- 支持将标注结果推送至指标系统

### 6.2 与用户系统集成
- 记录用户操作行为
- 基于用户角色提供不同的操作权限 